@using StudentProject.ViewModels;
@model StudentVM



@{   
    if (ViewBag.exist != null)
    {
        var isStdExist = ViewBag.exist;
        if (isStdExist)
        {
        <span class="text-danger">student phone or email already exist </span>
            }
        }

    }
<form id="profile-form" method="post" enctype="multipart/form-data">
    <div class="row">
        <div class="col-md-6">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="@Model.FirstName">First Name</label>
                <input asp-for="@Model.FirstName" class="form-control" />
                <span asp-validation-for="@Model.FirstName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="@Model.LastName">Last Name</label>
                <input asp-for="@Model.LastName" class="form-control" />
                <span asp-validation-for="@Model.LastName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="@Model.EmailAddress">Email Address</label>
                <input asp-for="@Model.EmailAddress" class="form-control" />
                <span asp-validation-for="@Model.EmailAddress" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="@Model.PhoneNumber">Phone Number</label>
                <input asp-for="@Model.PhoneNumber" class="form-control" />
                <span asp-validation-for="@Model.PhoneNumber" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="@Model.Address">Address</label>
                <input asp-for="@Model.Address" class="form-control" />
                <span asp-validation-for="@Model.Address" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="@Model.DateOfBirth">Date Of Birth</label>
                <input asp-for="@Model.DateOfBirth" type="text" class="form-control" placeholder="Date of Birth" id="DateOfBirth" />
                <span asp-validation-for="@Model.DateOfBirth" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label> Class</label>
                <div>
                    @Html.DropDownList("Class",
                        new SelectList(Model.AllClasses, "Id", "Name"), "Select", new { id = "ClassesDDL" })
                </div>
                <span asp-validation-for="@Model.Class" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="@Model.Gender">Gender</label>
                <div>
                    <span>Male</span>
                    <input type="radio" asp-for="@Model.Gender" value="0" checked />
                    <span>FeMale</span>
                    <input type="radio" asp-for="@Model.Gender" value="1" />
                </div>

                <span asp-validation-for="@Model.Gender" class="text-danger"></span>
            </div>
            <button id="update-profile-button" type="submit" class="btn btn-primary">Save</button>
        </div>

        <div class="col-md-6">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="@Model.Image" style="width: 100%;">Image</label>
                @if (Model.Image != null)
                {
                    <img id="profilePicture" style="width:350px;height:350px; object-fit:cover" src="@Model.Image">
                }
                else
                {
                    <img id="profilePicture" style="width:350px;height:350px; object-fit:cover" src="">
                }
                <input type="file"
                       accept=".png,.jpg,.jpeg,.gif,.tif"
                       asp-for="@Model.Image"
                       class="form-control"
                       style="border:0px!important;padding: 0px;padding-top: 10px;padding-bottom: 30px;"
                       onchange="document.getElementById('profilePicture').src = window.URL.createObjectURL(this.files[0])" />
                <span asp-validation-for="@Model.Image" class="text-danger"></span>
            </div>
        </div>
    </div>
</form>
@section Scripts
{
    <script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
    <link href="~/lib/jqueryui/themes/base/jquery-ui.css" rel="stylesheet" />
    <script src="~/lib/jqueryui/jquery-ui.js"></script>
    <script>
        $(function () {
            $("#DateOfBirth").datepicker({ dateFormat: 'dd/mm/yy' });
        });
    </script>
}